---
import ArticleCard from "@components/ui/article_card.astro";
import SectionTitle from "@components/ui/section_title.astro";
import { Color } from "@libs/types";

import { getCollection } from "astro:content";
const allBlogEntries = await getCollection("blog");
---

<section class="relative w-full text-center">
    <SectionTitle>
        <h1>Nos derniers articles</h1>
    </SectionTitle>
    <div class="flex flex-col lg:flex-row gap-10 justify-center items-center mx-auto px-4 py-8">
        {allBlogEntries.slice(0, 3).map((article) => (
            <ArticleCard
                image={article.data.image}
                title={article.data.title}
                description={article.data.description}
                class="lg:flex"
                color={Color.RED}
                dark={true}
                href={`/blog/${article.slug}`}
            />
        ))}
    </div>
    <a class="bg-yellow-log font-sans font-bold text-black text-xl px-8 py-2 rounded-[12px]" href="/blog">Lire tous nos articles</a>
</section>