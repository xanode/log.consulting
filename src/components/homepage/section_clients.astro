---
import Carousel from "@components/ui/carousel.astro";
import Icon from "@components/ui/icon.astro";
import SectionTitle from "@components/ui/section_title.astro";

import DinumLogoReference from '@static/clients/dinum.avif';
import EuroAssistanceLogoReference from '@static/clients/euro-assistance.avif';
import CarrefourLogoReference from '@static/clients/Logo_Carrefour.avif';
import SaintGobainLogoReference from '@static/clients/Logo_Saint-Gobain.avif';
import ChristianDiorCoutureLogoReference from '@static/clients/logo-christian-dior-couture.avif';
import HermesLogoReference from '@static/clients/Hermes.avif';
import TransdevLogoReference from '@static/clients/transdev.avif';
import BDFLogoReference from '@static/clients/BDF.avif';
import RATPLogoReference from '@static/clients/RATP.avif';


// Breakpoints for the carousel, got from https://tailwindcss.com/docs/responsive-design
/// This is the only thing that needs to be changed to change the number of items displayed at each breakpoint ///
const visibleElements = [ // Default is 1
  { breakpoint: 1536, items: 5 }, // 2xl
  { breakpoint: 1280, items: 5 }, // xl
  { breakpoint: 1024, items: 4 }, // lg
  { breakpoint: 768, items: 3 }, // md
  { breakpoint: 640, items: 1 } // sm
];

// Convert the visibleElements array into a map of breakpoint widths to the number of items to display at that width
const visibleElementsPx = visibleElements.reduce<{ [breakpoint: number]: number }>((acc, { breakpoint, items }) => {
  acc[breakpoint] = items;
  return acc;
}, {});
---

<section class="relative w-full pb-10 bg-gray-log text-center">
    <div class="flex flex-col lg:flex-row gap-10 items-center justify-center py-8">
        <Icon className="lg:hidden h-20" name="rocket" />
        <SectionTitle column={true} logSvg={true}>
            <h1 class="inline-flex gap-4">
                In
                <span class="sr-only">LOG</span>
                <Icon name="log" />
            </h1>
            <h1>they trust!</h1>
        </SectionTitle>
        <Icon className="hidden lg:block h-20" name="rocket" />
    </div>
    <Carousel type="img" visibleElementsPx={visibleElementsPx}>
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={HermesLogoReference} width="120" height="57" alt="HermÃ¨s">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={TransdevLogoReference} width="160" height="80" alt="Transderv">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={BDFLogoReference} width="160" height="100" alt="Banque de France">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={CarrefourLogoReference} width="120" height="96" alt="Carrefour">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={RATPLogoReference} width="160" height="60" alt="RATP">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={SaintGobainLogoReference} width="160" height="57" alt="Saint-Gobain">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={ChristianDiorCoutureLogoReference} width="120" height="26" alt="Christian Dior Couture">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={EuroAssistanceLogoReference} width="120" height="72" alt="Euro Assistance">
        <img class="my-auto md:grayscale hover:grayscale-0 duration-150 ease-in-out" src={DinumLogoReference} width="100" height="100" alt="DINUM">
    </Carousel>
</section>